<!DOCTYPE html>
<html>
  <head>
    <title><%= full_title yield(:title) %></title>
    <link rel="manifest" href="/manifest.json">
		<%= action_cable_meta_tag %>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= yield(:itemprop) %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag    'https://transloadit.edgly.net/releases/uppy/v0.28.0/dist/uppy.min.css' %>
    <%= stylesheet_link_tag    'https://use.fontawesome.com/releases/v5.6.3/css/all.css', integrity: "sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/", crossorigin: "anonymous" %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag "https://unpkg.com/babel-polyfill@6.26.0/dist/polyfill.min.js" %>
    <%= javascript_include_tag "https://unpkg.com/whatwg-fetch@2.0.3/fetch.js" %>
    <%= javascript_include_tag 'https://cdnjs.cloudflare.com/ajax/libs/pixi.js/3.0.7/pixi.min.js' %>
    <%= javascript_include_tag 'https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.1.2/tinycolor.min.js' %>
    <%= javascript_include_tag "https://transloadit.edgly.net/releases/uppy/v0.28.0/dist/uppy.min.js" %>
    <%= javascript_pack_tag 'svelte_parts' %>
    <%= javascript_pack_tag 'waterfall' %>
  </head>

  <body data-tag-editor="<%= user_signed_in? && current_user.tag_editor? %>">
    <div id="modal-windows"></div>
    <div id="display-content"></div>
    <div id="display-image"></div>
    <div id="flash-messages"></div>
    <%= render 'layouts/header' %>
    <div id="main">
      <div id="main-container">
        <%= yield %>
        <ul class="background-bubbles">
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
        <div id="waterfall-container">
          <canvas id="waterfall"></canvas>
        </div>
      </div>
    </div>
    <div class="text-options">
      <div id="modal-window"></div>
      <div class="bold-option"><i class="fas fa-bold"></i></div>
      <div class="italic-option"><i class="fas fa-italic"></i></div>
      <div class="link-option"><i class="fas fa-link"></i></div>
      <div class="heading-option"><i class="fas fa-heading"></i></div>
      <div class="strikethrough-option"><i class="fas fa-strikethrough"></i></div>
      <div class="ol-option"><i class="fas fa-list-ol"></i></div>
      <div class="ul-option"><i class="fas fa-list-ul"></i></div>
      <div class="blockquote-option"><i class="fas fa-angle-double-right"></i></div>
    </div>
    <div class="link-addition-form"><%= text_field_tag :link_input_field, "", placeholder: "http://" %><%= button_tag "Done", class: "link-input-done-button" %></div>
    <div class="link-options">
      <%= button_tag "Edit", class: "link-input-edit-button" %>
      <%= button_tag "Remove", class: "link-input-remove-button" %>
      <%= button_tag "Open", class: "link-input-open-button" %>
    </div>
    <div class="line-options">
      <div><%= file_field_tag :inline_picture, accept: 'image/jpeg,image/gif,image/png', multiple: true, class: "inline-picture-field", data: { prefix: Shrine.storages[:cache].prefix } %><%= label_tag :inline_picture, '<i class="fas fa-image"></i>'.html_safe %></div>
    </div>

    <%= debug(params) if Rails.env.development? %>
  </body>
</html>
